    graph TD
        subgraph "数据源 (Data Sources)"
            A[原始流量 (可选, 抽样)]
            B[网元内置探针 (CHR/UFDR)]
            C[外部探针 (XDR)]
            D[网元日志 (Logs)]
            E[性能计数器 (PM Counters)]
            F[网络配置 (Configuration)]
            G[告警数据 (Alarms)]
            H[用户投诉/工单 (Tickets)]
        end
        // ... other subgraphs ...

        %% 数据流向
        A --> I; B --> I; C --> I; D --> I; E --> I; F --> I; G --> I; H --> I;
        I --> J; J --> K; K --> L;
        L --> M; L --> O; L --> P; L --> Q; L --> R;

        %% AI引擎贡献到知识与洞察
        M --- N; O --- N; P --- N; Q --- N; R --- N;  % 表示贡献或关联到知识库  <-- PROBLEM HERE
        M --> T; M --> V;
        O --> S; O --> T; O --> U; O --> V;
        P --> S; P --> T; P --> U; P --> V;
        Q --> W;
        R --> Y; R --> Z; % LLM支撑NLQ和报告生成 <-- PROBLEM HERE

        %% 知识库支撑洞察层
        N --> S; N --> T; N --> U; N --> V; N --> W;
        N --> BB; % 知识库信息也可供专家参考 <-- PROBLEM HERE

        %% 洞察层驱动应用层
        S --> X; T --> X; U --> X; V --> X; W --> X; % 洞察结果可视化 <-- PROBLEM HERE
        T --> AA; W --> AA; % 告警/优化建议驱动自动化 <-- PROBLEM HERE

        %% 应用层交互与反馈
        %% Y的查询由R处理, Z由R生成 (已在上面定义 R --> Y, R --> Z)
        X --> BB; Y --> BB; Z --> BB; AA --> BB; % 各应用组件汇聚到专家界面 <-- PROBLEM HERE
        BB -- Feedback --> O; BB -- Feedback --> P; BB -- Feedback --> Q; % 专家反馈用于模型优化 <-- PROBLEM HERE
